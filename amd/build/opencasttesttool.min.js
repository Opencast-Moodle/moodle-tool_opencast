define ("tool_opencast/opencasttesttool",["jquery","core/ajax","core/str","core/modal_factory","core/notification"],function(a,b,c,d,f){var g=function(){this.activateButton();this.registerClickEvent()};g.prototype.activateButton=function(){if(a("#testtool-modal").is(":visible")&&a("#testtool-modal").hasClass("disabled")){a("#testtool-modal").removeAttr("disabled");a("#testtool-modal").removeAttr("title");a("#testtool-modal").removeClass("disabled btn-warning");a("#testtool-modal").addClass("btn-secondary")}};g.prototype.registerClickEvent=function(){a("#testtool-modal").click(function(g){g.preventDefault();var e=a("#admin-apiurl").find("input").val(),h=a("#admin-apiusername").find("input").val(),i=a("#admin-apipassword").find("input").val(),j=b.call([{methodname:"tool_opencast_connection_test_tool",args:{apiurl:e,apiusername:h,apipassword:i}}]),k=c.get_string("testtoolurl","tool_opencast"),l=d.create({type:d.types.CANCEL});a.when(j[0],k,l).then(function(a,b,c){c.setTitle(b);c.setBody(a.testresult);c.show();return c}).catch(f.exception)})};return{init:function init(){return new g}}});
//# sourceMappingURL=opencasttesttool.min.js.map
