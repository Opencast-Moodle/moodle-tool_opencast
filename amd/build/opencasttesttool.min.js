define ("tool_opencast/opencasttesttool",["jquery","core/ajax","core/str","core/modal_factory","core/notification"],function(a,b,c,d,f){var g=function(){this.activateButton();this.registerClickEvent()};g.prototype.activateButton=function(){a(".testtool-modal").each(function(){if(a(this).is(":visible")&&a(this).hasClass("disabled")){a(this).removeAttr("disabled");a(this).removeAttr("title");a(this).removeClass("disabled btn-warning");a(this).addClass("btn-secondary")}})};g.prototype.registerClickEvent=function(){a(".testtool-modal").click(function(g){g.preventDefault();var e=a(g.target).data("instanceid"),h=e?"_"+e:"",i=a("#admin-apiurl"+h).find("input").val(),j=a("#admin-apiusername"+h).find("input").val(),k=a("#admin-apipassword"+h).find("input").val(),l=b.call([{methodname:"tool_opencast_connection_test_tool",args:{apiurl:i,apiusername:j,apipassword:k}}]),m=c.get_string("testtoolurl","tool_opencast"),n=d.create({type:d.types.CANCEL});a.when(l[0],m,n).then(function(a,b,c){c.setTitle(b);c.setBody(a.testresult);c.show();return c}).catch(f.exception)})};return{init:function init(){return new g}}});
//# sourceMappingURL=opencasttesttool.min.js.map
